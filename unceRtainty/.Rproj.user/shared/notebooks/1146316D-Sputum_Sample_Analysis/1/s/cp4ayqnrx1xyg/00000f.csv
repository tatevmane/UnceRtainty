"0","# Filter the data for the year 2023"
"0","df_2023 <- df_long %>%"
"0","  filter(Year == 2023)"
"0",""
"0","# Count the number of each bacterial isolate in 2023 and calculate proportions"
"0","species_counts_2023 <- df_2023 %>%"
"0","  group_by(Bacterial_isolate) %>%"
"0","  summarize(count = n()) %>%"
"0","  mutate(proportion = count / sum(count)) %>%"
"0","  arrange(desc(proportion))"
"0",""
"0","ggplot(species_counts_2023, aes(x = reorder(Bacterial_isolate, -proportion), y = proportion, fill = Bacterial_isolate)) +"
"0","  geom_bar(stat = ""identity"") +"
"0","  coord_flip() +"
"0","  geom_text(aes(label = scales::percent(proportion, accuracy = 0.1)), "
"0","            hjust = -0.1, size = 3) +"
"0","  labs(title = ""Proportion of Bacterial Isolates in 2023"", x = ""Bacterial Species"", y = ""Proportion"") +"
"0","  theme_minimal() "
